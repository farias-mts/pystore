{%extends 'panel.html'%}
{%load static%}

{%block title%} 
    {%for prd in products%}
        {{prd.name}} | pyStore
    {%endfor%}
{%endblock%}

{%block static%}
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <link rel='stylesheet' href='{%static "css/styleProducts.css"%}'>
    <script src='{%static "js/showImage.js"%}'></script>
    <script src='{%static "js/radio.js"%}'></script>
{%endblock%}


{%block variable-title%}Produto{%endblock%}

{%block variable-contents%}
    {%for prd in products%} 
        <div id='form-product'>
            <form method='POST' action=''>{%csrf_token%}
                <div id='forms'>
                    <div id='view-slide'>
                        <div id='slide'>
                            <input id='radio1' type='radio' name='radio-btn' onclick='checkedRadio("1")'>
                            <input id='radio2' type='radio' name='radio-btn' onclick='checkedRadio("2")'>
                            <input id='radio3' type='radio' name='radio-btn' onclick='checkedRadio("3")'>
                            <div class='slide-photo first'>
                                {%if prd.primary_image.url != None%}
                                    <img id='preview-first' class='preview-photo' src='{{prd.primary_image.url}}'>
                                {%else%}
                                    <img id='preview-first' class='preview-photo'>
                                {%endif%}
                                    <label for='id_first_image'>
                                    <img src='{%static "images/icons/galeria.png"%}' class='select-image'>
                                </label>
                                <input id='id_first_image' type='file' name='primary_image' accept='image/*' required='' onchange='previewImage("first")'>
                            </div>
                            <div class='slide-photo'>
                                {%if prd.second_image.url != None%}
                                    <img id='preview-second' class='preview-photo' src='{{prd.second_image.url}}'>
                                {%else%}
                                    <img id='preview-first' class='preview-photo'>
                                {%endif%}
                                <label for='id_second_image'>
                                    <img src='{%static "images/icons/galeria.png"%}' class='select-image'>
                                </label>
                                <input id='id_second_image' type='file' name='second_image' accept='image/*' onchange='previewImage("second")'>
                            </div>
                            <div class='slide-photo'>
                                {%if prd.third_image.url != None%}
                                    <img id='preview-third' class='preview-photo' src='{{prd.third_image.url}}'>
                                {%else%}
                                    <img id='preview-first' class='preview-photo'>
                                {%endif%}
                                <label for='id_third_image'>
                                    <img src='{%static "images/icons/galeria.png"%}' class='select-image'>
                                </label>
                                <input id='id_third_image' type='file' name='third_image' accept='image/*' onchange='previewImage("third")'>
                            </div>
                        </div>
                        <div class='navigation'>
                            <label id='btn1' class='manual-btn' for='radio1'></label>
                            <label id='btn2' class='manual-btn' for='radio2'></label>
                            <label id='btn3' class='manual-btn' for='radio3'></label>
                        </div>
                    </div>
                    <div id='view-input'>
                        <div>
                            <label for='id_name'>Nome</label>
                            <input type='text' id='id_name' name='name' class='change-input' required='' value='{{prd.name}}'>
                        </div>
                        <div>
                            <label for='id_description'>Descrição</label>
                            <textarea type='text' id='id_description' name='description' class='change-input' rows='4' cols='50'>{{prd.description}}</textarea>
                        </div>
                        <div>
                            <label for='id_category'>Categoria</label>
                            <input type='text' id='id-category' name='category' class='change-input' value='{{prd.category}}'>
                        </div>
                        <div>
                            <label for='id_brand'>Fabricante</label>
                            <input type='text' id='id-brand' name='brand' class='change-input' value='{{prd.brand}}'>
                        </div>
                        <div>
                            <label for='id_price'>Preço</label>
                            <input type='number' min='0' id='id_price' name='price' class='change-input' required='' value='{{prd.price}}'>
                        </div>
                        <div>
                            <label for='id_amount'>Quantidade</label>
                            <input type='number' id='id_amount' name='amount' class='change-input' required='' value='{{prd.amount}}'>
                        </div>
                    </div>
                </div>
                <button type='submit'>Alterar</button>
            </form>
        </div>
    {%endfor%}
{%endblock%}
